# 交通信号灯控制

## 设计要求

1. 采用中断拦截技术计时
2. 在数码管上显示延时时间倒计时，利用发光二极管模拟交通灯的变化。十字路口交通灯的变化规律如下：

    1. 东西红灯，南北绿灯同时亮 30s
    2. 南北黄灯 3s ，东西红灯继续
    3. 南北红灯，东西绿灯，保持 30s
    4. 南北红灯继续，东西黄灯 3s
    5. 转第一步

## 设计细节

1. 使用的硬件及用途
    - 8259A 中断计时
    - 8255A A 口连接数码管作输出，B 口连接发光二极管作输出，C 口连接 8259A 作输入
    - 数码管显示交通灯倒计时
    - 发光二极管作交通灯

2. 十字路口，东西南北4组交通灯

3. 顺序：

    1. 东西红灯，南北绿灯同时亮 30s
    2. 南北黄灯 3s ，东西红灯继续
    3. 南北红灯，东西绿灯，保持 30s
    4. 南北红灯继续，东西黄灯 3s
    5. goto 1
    共有 4 种状态

4. 产生1s定时
    - TODO

5. 数码管控制
    - 0～9： 3FH, 06H, 5BH, 4FH, 66H, 6DH, 7DH, 07H, 7FH, 6FH
    - 7段接 8255A 口，PA0-a, ..., PA6-g
    - 位码接 C 口，PC0-S0, ..., PC3-S3
    - 8254 OUT1接PC4

6. 发光二极管控制
    - 发光二极管L5-L0接8255 PB5-PB0，1亮0灭
    - L5-L3东西方向红黄绿，L2-L0南北方向红黄绿

        ```txt
        STATE_1: 10000001B
        STATE_2: 10000010B
        STATE_3: 00100100B
        STATE_4: 01000100B
        ```

7. 8255A 初始化
    - 8255A A、B、C 端口均工作在方式0 控制字为 `10001000B`
    - 8259A 初始化　TODO
